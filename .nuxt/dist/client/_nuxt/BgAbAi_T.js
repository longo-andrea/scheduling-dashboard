import q from"./BcsrA5oa.js";import{b as T,d as j,e as E,P as R,f as V,g as z,h as L,u as U,i as Y,t as F,a as G,_ as Q}from"./CKIUVifN.js";import{m as k,C as J,p as x,o as _,w as m,x as C,g as e,r as v,f as M,B as P,D as K,b as y,q as S,v as $,E as W,G as X,s as Z,l as ee,e as te,H as oe,c as ae,a as u,t as h}from"./DMS5LEkl.js";import{n as se,d as ne,f as D}from"./CTkElQug.js";const[A,le]=T("CollapsibleRoot"),ie=k({__name:"CollapsibleRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},disabled:{type:Boolean},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:open"],setup(n,{expose:l,emit:t}){const s=n,o=j(s,"open",t,{defaultValue:s.defaultOpen,passive:s.open===void 0}),{disabled:i,unmountOnHide:c}=J(s);return le({contentId:"",disabled:i,open:o,unmountOnHide:c,onOpenToggle:()=>{o.value=!o.value}}),l({open:o}),E(),(f,p)=>(_(),x(e(R),{as:f.as,"as-child":s.asChild,"data-state":e(o)?"open":"closed","data-disabled":e(i)?"":void 0},{default:m(()=>[C(f.$slots,"default",{open:e(o)})]),_:3},8,["as","as-child","data-state","data-disabled"]))}}),de=k({inheritAttrs:!1,__name:"CollapsibleContent",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["contentFound"],setup(n,{emit:l}){const t=n,s=l,a=A();a.contentId||(a.contentId=V(void 0,"reka-collapsible-content"));const o=v(),{forwardRef:i,currentElement:c}=E(),f=v(0),p=v(0),r=M(()=>a.open.value),g=v(r.value),b=v();P(()=>{var d;return[r.value,(d=o.value)==null?void 0:d.present]},async()=>{await W();const d=c.value;if(!d)return;b.value=b.value||{transitionDuration:d.style.transitionDuration,animationName:d.style.animationName},d.style.transitionDuration="0s",d.style.animationName="none";const B=d.getBoundingClientRect();p.value=B.height,f.value=B.width,g.value||(d.style.transitionDuration=b.value.transitionDuration,d.style.animationName=b.value.animationName)},{immediate:!0});const w=M(()=>g.value&&a.open.value);return K(()=>{requestAnimationFrame(()=>{g.value=!1})}),z(c,"beforematch",d=>{requestAnimationFrame(()=>{a.onOpenToggle(),s("contentFound")})}),(d,B)=>(_(),x(e(L),{ref_key:"presentRef",ref:o,present:d.forceMount||e(a).open.value,"force-mount":!0},{default:m(({present:I})=>{var O;return[y(e(R),S(d.$attrs,{id:e(a).contentId,ref:e(i),"as-child":t.asChild,as:d.as,hidden:I?void 0:e(a).unmountOnHide.value?"":"until-found","data-state":w.value?void 0:e(a).open.value?"open":"closed","data-disabled":(O=e(a).disabled)!=null&&O.value?"":void 0,style:{"--reka-collapsible-content-height":`${p.value}px`,"--reka-collapsible-content-width":`${f.value}px`}}),{default:m(()=>[!e(a).unmountOnHide.value||I?C(d.$slots,"default",{key:0}):$("",!0)]),_:2},1040,["id","as-child","as","hidden","data-state","data-disabled","style"])]}),_:3},8,["present"]))}}),ue=k({__name:"CollapsibleTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const l=n;E();const t=A();return(s,a)=>{var o,i;return _(),x(e(R),{type:s.as==="button"?"button":void 0,as:s.as,"as-child":l.asChild,"aria-controls":e(t).contentId,"aria-expanded":e(t).open.value,"data-state":e(t).open.value?"open":"closed","data-disabled":(o=e(t).disabled)!=null&&o.value?"":void 0,disabled:(i=e(t).disabled)==null?void 0:i.value,onClick:e(t).onOpenToggle},{default:m(()=>[C(s.$slots,"default")]),_:3},8,["type","as","as-child","aria-controls","aria-expanded","data-state","data-disabled","disabled","onClick"])}}});function re(n,l,t){const[s,a]=se(t==null?void 0:t.in,n,l),o=N(s,a),i=Math.abs(ne(s,a));s.setDate(s.getDate()-o*i);const c=+(N(s,a)===-o),f=o*(i-c);return f===0?0:f}function N(n,l){const t=n.getFullYear()-l.getFullYear()||n.getMonth()-l.getMonth()||n.getDate()-l.getDate()||n.getHours()-l.getHours()||n.getMinutes()-l.getMinutes()||n.getSeconds()-l.getSeconds()||n.getMilliseconds()-l.getMilliseconds();return t<0?-1:t>0?1:t}const ce={slots:{root:"",content:"data-[state=open]:animate-[collapsible-down_200ms_ease-out] data-[state=closed]:animate-[collapsible-up_200ms_ease-out] overflow-hidden"}},pe=ee;var H;const fe=F({extend:F(ce),...((H=pe.ui)==null?void 0:H.collapsible)||{}}),me=k({__name:"Collapsible",props:{as:{},class:{},ui:{},defaultOpen:{type:Boolean},open:{type:Boolean},disabled:{type:Boolean},unmountOnHide:{type:Boolean,default:!0}},emits:["update:open"],setup(n,{emit:l}){const t=n,s=l,a=X(),o=U(Y(t,"as","defaultOpen","open","disabled","unmountOnHide"),s),i=fe();return(c,f)=>{var p;return _(),x(e(ie),S(e(o),{class:e(i).root({class:[t.class,(p=t.ui)==null?void 0:p.root]})}),{default:m(({open:r})=>{var g;return[a.default?(_(),x(e(ue),{key:0,"as-child":""},{default:m(()=>[C(c.$slots,"default",{open:r})]),_:2},1024)):$("",!0),y(e(de),{class:Z(e(i).content({class:(g=t.ui)==null?void 0:g.content}))},{default:m(()=>[C(c.$slots,"content")]),_:3},8,["class"])]}),_:3},16,["class"])}}});function ge(){const n=v("");function l(o){n.value=o.id}const t=v("");function s(o){t.value=o}const a=te({key:()=>["booking",t.value],query:async()=>{if(!n.value||!t.value)throw new Error("Facility ID and Booking ID are required");return fetch(`https://605c94c36d85de00170da8b4.mockapi.io/stations/${n.value}/bookings/${t.value}`).then(async o=>{const i=await o.json();return{id:i.id,customer:i.customerName,dateRange:{from:new Date(i.startDate),to:new Date(i.endDate)}}})}});return{setFacility:l,setBooking:s,...a}}const ve={key:0,class:"flex h-full flex-col gap-4 rounded-md bg-white p-4"},ye={class:"group flex items-center justify-between"},be={class:"flex items-center gap-2 rounded-md bg-white p-2 text-sm font-medium text-gray-700"},_e={class:"group flex items-center justify-between"},he={class:"flex flex-col gap-2 rounded-md bg-white p-2"},xe={class:"flex flex-col gap-1 text-sm font-medium text-gray-700"},Ce={class:"flex flex-col gap-1 text-sm font-medium text-gray-700"},ke={class:"flex flex-col gap-1 text-sm font-medium text-gray-700"},we={class:"flex flex-col gap-1 text-sm font-medium text-gray-700"},$e=k({__name:"[id]",setup(n){const{params:l}=oe(),{id:t}=l,{setFacility:s,setBooking:a,data:o}=ge(),{facility:i}=G();P(i,p=>{p&&t&&(s(p),a(t))});const c=M(()=>o.value);function f(p){return re(p.to,p.from)}return(p,r)=>{const g=q,b=Q,w=me;return e(c)?(_(),ae("div",ve,[y(w,{class:"flex cursor-pointer flex-col gap-1 rounded-md bg-violet-100 p-2 hover:bg-violet-200"},{content:m(()=>[u("p",be,[y(b,{alt:e(c).customer,size:"sm",as:"span"},null,8,["alt"]),u("span",null,h(e(c).customer),1)])]),default:m(()=>[u("div",ye,[r[0]||(r[0]=u("p",{class:"text-lg font-medium text-violet-700"},"Customer Information",-1)),y(g,{name:"i-carbon:chevron-down",class:"transition group-data-[state=open]:rotate-180"})])]),_:1}),r[6]||(r[6]=u("hr",{class:"border-slate-200"},null,-1)),y(w,{class:"flex cursor-pointer flex-col gap-1 rounded-md bg-violet-100 p-2 hover:bg-violet-200"},{content:m(()=>{var d;return[u("div",he,[u("p",xe,[r[2]||(r[2]=u("span",{class:"font-bold"},"Pickup/Return Station ",-1)),u("span",null,h((d=e(i))==null?void 0:d.name),1)]),u("p",Ce,[r[3]||(r[3]=u("span",{class:"font-bold"},"Rental duration ",-1)),u("span",null,h(f(e(c).dateRange))+" days",1)]),u("p",ke,[r[4]||(r[4]=u("span",{class:"font-bold"},"Start date ",-1)),u("span",null,h(e(D)(e(c).dateRange.from,"EEEE dd MMMM yyyy")),1)]),u("p",we,[r[5]||(r[5]=u("span",{class:"font-bold"},"End date ",-1)),u("span",null,h(e(D)(e(c).dateRange.to,"EEEE dd MMMM yyyy")),1)])])]}),default:m(()=>[u("div",_e,[r[1]||(r[1]=u("p",{class:"text-lg font-medium text-violet-700"},"Rental Information",-1)),y(g,{name:"i-carbon:chevron-down",class:"transition group-data-[state=open]:rotate-180"})])]),_:1})])):$("",!0)}}});export{$e as default};
